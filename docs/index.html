<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>ProDVX API Install</title>
</head>
<body>
  <h2>Installation Steps</h2>
  <p><b>1.</b> Download <a href="https://f-droid.org/repo/com.termux_75.apk" target="_blank">Termux</a>.</p>
  <p><b>2.</b> Download <a href="https://f-droid.org/repo/com.termux.boot_6.apk" target="_blank">Termux:Boot</a>.</p>
  <p><b>3.</b> Install both apps. Run Termux:Boot, then close.</p>
  <p><b>4.</b> Run Termux. Leave Termux open.</p>
  <p><b>5.</b> Copy the command for your device below, then run it inside Termux:</p>

  <p>
    <b>SLB</b>
    <textarea id="slb-cmd" onclick="this.focus();this.select()"></textarea>
    <button onclick="copyText(document.getElementById('slb-cmd').value)">COPY SLB INSTALL COMMAND</button>
  </p>

  <p>
    <b>DSKPL</b>
    <textarea id="dskpl-cmd" onclick="this.focus();this.select()"></textarea>
    <button onclick="copyText(document.getElementById('dskpl-cmd').value)">COPY DSKPL INSTALL COMMAND</button>
  </p>

  <div id="notice">
    <p>Test</p>
  </div>

  <script>
    document.getElementById('slb-cmd').innerText = 'bash <(curl https://raw.githubusercontent.com/AudioVisualDistributors/OvertureDrivers/master/scripts/prodvx_api/install_slb.sh)'
    document.getElementById('dskpl-cmd').innerText = 'bash <(curl https://raw.githubusercontent.com/AudioVisualDistributors/OvertureDrivers/master/scripts/prodvx_api/install_dskpl.sh)'

    function copyText(text) {
      if (!navigator.clipboard) {
        fallbackCopyTextToClipboard(text);
        return;
      }
      navigator.clipboard.writeText(text).then(function() {
        console.debug('Async: Copying to clipboard was successful!');
        notice('Text copied to clipboard!', 'hsl(200, 100%, 40%)')
      }, function(err) {
        throw new Error('Async: Could not copy text', err);
        notice('Could not copy text', 'darkred')
      });
    }

    function fallbackCopyTextToClipboard(text) {
      var textArea = document.createElement("textarea");
      textArea.value = text;
      document.body.appendChild(textArea);
      textArea.focus();
      textArea.select();
      try {
        var successful = document.execCommand('copy');
        var msg = successful ? 'successful' : 'unsuccessful';
        console.debug('Fallback: Copying text command was ' + msg);
        notice('Copying text command was ' + msg, 'hsl(200, 100%, 40%)')
      } catch (err) {
        throw new Error('Fallback: Unable to copy', err);
        notice('Could not copy text', 'darkred')
      }
      document.body.removeChild(textArea);
    }

    function notice(text, color) {
      let notice = document.getElementById('notice')
      notice.querySelector('p').innerText = text
      notice.style.display = 'block'
      notice.style.background = color
      setTimeout(function() {
        notice.style.display = 'none'
      }, 3000)
    }
  </script>

  <style>
    html {
      font-family: Arial;
      zoom: 100%;
    }
    button {
      height: 40px;
      padding: 0 20px;
      margin: 5px 0;
    }
    textarea {
      width: 100%;
    }
    #notice {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      background: hsl(200, 100%, 40%);
      color: white;
      text-align: center;
      display: none;
    }
  </style>
</body>
</html>